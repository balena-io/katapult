apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  annotations: {}
  creationTimestamp: null
  labels:
    io.kompose.service: admin
  name: admin
spec:
  replicas: 1
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        io.kompose.service: admin
    spec:
      containers:
        -
          env:
            -
              name: API_HOST
              value: '{{{environment.API_HOST}}}'
            -
              name: CONFD_BACKEND
              value: '{{{environment.CONFD_BACKEND}}}'
            -
              name: PRODUCTION
              value: '{{{environment.PRODUCTION}}}'
            -
              name: UI_HOST
              value: '{{{environment.UI_HOST}}}'
            -
              name: LOGENTRIES_TOKEN
              valueFrom:
                secretKeyRef:
                  name: katapult-secrets
                  key: LOGENTRIES_TOKEN
            -
              name: MAPS_API_KEY
              valueFrom:
                secretKeyRef:
                  name: katapult-secrets
                  key: MAPS_API_KEY
          image: 'resin/resin-admin:v1.18.3'
          name: admin
          ports:
            -
              containerPort: 80
          resources: {}
          securityContext:
            capabilities:
              add:
                - SYS_RESOURCE
                - SYS_ADMIN
      imagePullSecrets:
        -
          name: '{{{admin.labels.image-pull-secret}}}'
      restartPolicy: Always
status: {}
